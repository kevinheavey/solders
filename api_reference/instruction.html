<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Instruction &mdash; solders 0.27.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="LiteSVM" href="litesvm.html" />
    <link rel="prev" title="Hash" href="hash.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            solders
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Solders</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="account.html">Account</a></li>
<li class="toctree-l2"><a class="reference internal" href="account_decoder.html">Account Decoder</a></li>
<li class="toctree-l2"><a class="reference internal" href="address_lookup_table_account.html">Address Lookup Table Account</a></li>
<li class="toctree-l2"><a class="reference internal" href="clock.html">Clock</a></li>
<li class="toctree-l2"><a class="reference internal" href="commitment_config.html">Commitment Config</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_budget.html">Compute Budget</a></li>
<li class="toctree-l2"><a class="reference internal" href="epoch_rewards.html">Epoch Rewards</a></li>
<li class="toctree-l2"><a class="reference internal" href="epoch_schedule.html">Epoch Schedule</a></li>
<li class="toctree-l2"><a class="reference internal" href="errors.html">Errors</a></li>
<li class="toctree-l2"><a class="reference internal" href="hash.html">Hash</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Instruction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#solders.instruction.AccountMeta"><code class="docutils literal notranslate"><span class="pre">AccountMeta</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#solders.instruction.AccountMeta.from_bytes"><code class="docutils literal notranslate"><span class="pre">AccountMeta.from_bytes()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#solders.instruction.AccountMeta.from_json"><code class="docutils literal notranslate"><span class="pre">AccountMeta.from_json()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#solders.instruction.AccountMeta.is_signer"><code class="docutils literal notranslate"><span class="pre">AccountMeta.is_signer</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#solders.instruction.AccountMeta.is_writable"><code class="docutils literal notranslate"><span class="pre">AccountMeta.is_writable</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#solders.instruction.AccountMeta.pubkey"><code class="docutils literal notranslate"><span class="pre">AccountMeta.pubkey</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#solders.instruction.AccountMeta.to_json"><code class="docutils literal notranslate"><span class="pre">AccountMeta.to_json()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#solders.instruction.CompiledInstruction"><code class="docutils literal notranslate"><span class="pre">CompiledInstruction</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#solders.instruction.CompiledInstruction.accounts"><code class="docutils literal notranslate"><span class="pre">CompiledInstruction.accounts</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#solders.instruction.CompiledInstruction.data"><code class="docutils literal notranslate"><span class="pre">CompiledInstruction.data</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#solders.instruction.CompiledInstruction.from_bytes"><code class="docutils literal notranslate"><span class="pre">CompiledInstruction.from_bytes()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#solders.instruction.CompiledInstruction.from_json"><code class="docutils literal notranslate"><span class="pre">CompiledInstruction.from_json()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#solders.instruction.CompiledInstruction.program_id"><code class="docutils literal notranslate"><span class="pre">CompiledInstruction.program_id()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#solders.instruction.CompiledInstruction.program_id_index"><code class="docutils literal notranslate"><span class="pre">CompiledInstruction.program_id_index</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#solders.instruction.CompiledInstruction.to_json"><code class="docutils literal notranslate"><span class="pre">CompiledInstruction.to_json()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#solders.instruction.Instruction"><code class="docutils literal notranslate"><span class="pre">Instruction</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#solders.instruction.Instruction.accounts"><code class="docutils literal notranslate"><span class="pre">Instruction.accounts</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#solders.instruction.Instruction.data"><code class="docutils literal notranslate"><span class="pre">Instruction.data</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#solders.instruction.Instruction.from_bytes"><code class="docutils literal notranslate"><span class="pre">Instruction.from_bytes()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#solders.instruction.Instruction.from_json"><code class="docutils literal notranslate"><span class="pre">Instruction.from_json()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#solders.instruction.Instruction.program_id"><code class="docutils literal notranslate"><span class="pre">Instruction.program_id</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#solders.instruction.Instruction.to_json"><code class="docutils literal notranslate"><span class="pre">Instruction.to_json()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="litesvm.html">LiteSVM</a></li>
<li class="toctree-l2"><a class="reference internal" href="keypair.html">Keypair</a></li>
<li class="toctree-l2"><a class="reference internal" href="message.html">Message</a></li>
<li class="toctree-l2"><a class="reference internal" href="null_signer.html">Null Signer</a></li>
<li class="toctree-l2"><a class="reference internal" href="presigner.html">Presigner</a></li>
<li class="toctree-l2"><a class="reference internal" href="pubkey.html">Pubkey</a></li>
<li class="toctree-l2"><a class="reference internal" href="rpc/index.html">RPC</a></li>
<li class="toctree-l2"><a class="reference internal" href="signature.html">Signature</a></li>
<li class="toctree-l2"><a class="reference internal" href="slot_history.html">Slot History</a></li>
<li class="toctree-l2"><a class="reference internal" href="stake_history.html">Stake History</a></li>
<li class="toctree-l2"><a class="reference internal" href="system_program.html">System Program</a></li>
<li class="toctree-l2"><a class="reference internal" href="sysvar.html">Sysvar</a></li>
<li class="toctree-l2"><a class="reference internal" href="token/index.html">SPL Token</a></li>
<li class="toctree-l2"><a class="reference internal" href="transaction_metadata.html">Transaction Metadata</a></li>
<li class="toctree-l2"><a class="reference internal" href="transaction_status.html">Transaction Status</a></li>
<li class="toctree-l2"><a class="reference internal" href="transaction.html">Transaction</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">solders</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">API Reference</a></li>
      <li class="breadcrumb-item active">Instruction</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/kevinheavey/solders/blob/main/docs/api_reference/instruction.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-solders.instruction">
<span id="instruction"></span><h1>Instruction<a class="headerlink" href="#module-solders.instruction" title="Permalink to this heading"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="solders.instruction.AccountMeta">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AccountMeta</span></span><a class="headerlink" href="#solders.instruction.AccountMeta" title="Permalink to this definition"></a></dt>
<dd><p>Describes a single account read or written by a program during instruction
execution.</p>
<p>When constructing an <a class="reference internal" href="#solders.instruction.Instruction" title="solders.instruction.Instruction"><code class="xref py py-class docutils literal notranslate"><span class="pre">Instruction</span></code></a>, a list of all accounts that may be
read or written during the execution of that instruction must be supplied.
Any account that may be mutated by the program during execution, either its
data or metadata such as held lamports, must be writable.</p>
<p>Note that because the Solana runtime schedules parallel transaction
execution around which accounts are writable, care should be taken that only
accounts which actually may be mutated are specified as writable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pubkey</strong> (<a class="reference internal" href="pubkey.html#solders.pubkey.Pubkey" title="solders.pubkey.Pubkey"><em>Pubkey</em></a>) – An account’s public key.</p></li>
<li><p><strong>is_signer</strong> (<em>bool</em>) – True if an <a class="reference internal" href="#solders.instruction.Instruction" title="solders.instruction.Instruction"><code class="xref py py-class docutils literal notranslate"><span class="pre">Instruction</span></code></a> requires a <a class="reference internal" href="transaction.html#solders.transaction.Transaction" title="solders.transaction.Transaction"><code class="xref py py-class docutils literal notranslate"><span class="pre">Transaction</span></code></a>
signature matching <code class="docutils literal notranslate"><span class="pre">pubkey</span></code>.</p></li>
<li><p><strong>is_writable</strong> (<em>bool</em>) – True if the account data or metadata may be mutated during program execution.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">solders.pubkey</span><span class="w"> </span><span class="kn">import</span> <span class="n">Pubkey</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">solders.instruction</span><span class="w"> </span><span class="kn">import</span> <span class="n">AccountMeta</span><span class="p">,</span> <span class="n">Instruction</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">from_pubkey</span> <span class="o">=</span> <span class="n">Pubkey</span><span class="o">.</span><span class="n">new_unique</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">to_pubkey</span> <span class="o">=</span> <span class="n">Pubkey</span><span class="o">.</span><span class="n">new_unique</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">program_id</span> <span class="o">=</span> <span class="n">Pubkey</span><span class="o">.</span><span class="n">new_unique</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">instruction_data</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">([</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">accs</span> <span class="o">=</span> <span class="p">[</span><span class="n">AccountMeta</span><span class="p">(</span><span class="n">from_pubkey</span><span class="p">,</span> <span class="n">is_signer</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">is_writable</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">AccountMeta</span><span class="p">(</span><span class="n">to_pubkey</span><span class="p">,</span> <span class="n">is_signer</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">is_writable</span><span class="o">=</span><span class="kc">True</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">instruction</span> <span class="o">=</span> <span class="n">Instruction</span><span class="p">(</span><span class="n">program_id</span><span class="p">,</span> <span class="n">instruction_data</span><span class="p">,</span> <span class="n">accs</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="solders.instruction.AccountMeta.from_bytes">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_bytes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#solders.instruction.AccountMeta.from_bytes" title="Permalink to this definition"></a></dt>
<dd><p>Deserialize a serialized <code class="docutils literal notranslate"><span class="pre">AccountMeta</span></code> object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>bytes</em>) – the serialized <code class="docutils literal notranslate"><span class="pre">AccountMeta</span></code>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the deserialized <code class="docutils literal notranslate"><span class="pre">AccountMeta</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#solders.instruction.AccountMeta" title="solders.instruction.AccountMeta">AccountMeta</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="solders.instruction.AccountMeta.from_json">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">raw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#solders.instruction.AccountMeta.from_json" title="Permalink to this definition"></a></dt>
<dd><p>Build from a JSON string.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="solders.instruction.AccountMeta.is_signer">
<span class="sig-name descname"><span class="pre">is_signer</span></span><a class="headerlink" href="#solders.instruction.AccountMeta.is_signer" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="solders.instruction.AccountMeta.is_writable">
<span class="sig-name descname"><span class="pre">is_writable</span></span><a class="headerlink" href="#solders.instruction.AccountMeta.is_writable" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="solders.instruction.AccountMeta.pubkey">
<span class="sig-name descname"><span class="pre">pubkey</span></span><a class="headerlink" href="#solders.instruction.AccountMeta.pubkey" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="solders.instruction.AccountMeta.to_json">
<span class="sig-name descname"><span class="pre">to_json</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#solders.instruction.AccountMeta.to_json" title="Permalink to this definition"></a></dt>
<dd><p>Convert to a JSON string.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="solders.instruction.CompiledInstruction">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CompiledInstruction</span></span><a class="headerlink" href="#solders.instruction.CompiledInstruction" title="Permalink to this definition"></a></dt>
<dd><p>A compact encoding of an instruction.</p>
<p>A <code class="docutils literal notranslate"><span class="pre">CompiledInstruction</span></code> is a component of a multi-instruction <a class="reference internal" href="message.html#solders.message.Message" title="solders.message.Message"><code class="xref py py-class docutils literal notranslate"><span class="pre">Message</span></code></a>,
which is the core of a Solana transaction. It is created during the
construction of <code class="docutils literal notranslate"><span class="pre">Message</span></code>. Most users will not interact with it directly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>program_id_index</strong> (<em>int</em>) – Index into the transaction keys array indicating the
program account that executes this instruction.</p></li>
<li><p><strong>data</strong> (<em>bytes</em>) – The program input data.</p></li>
<li><p><strong>accounts</strong> (<em>bytes</em>) – Ordered indices into the transaction keys array indicating
which accounts to pass to the program.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="solders.instruction.CompiledInstruction.accounts">
<span class="sig-name descname"><span class="pre">accounts</span></span><a class="headerlink" href="#solders.instruction.CompiledInstruction.accounts" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="solders.instruction.CompiledInstruction.data">
<span class="sig-name descname"><span class="pre">data</span></span><a class="headerlink" href="#solders.instruction.CompiledInstruction.data" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="solders.instruction.CompiledInstruction.from_bytes">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_bytes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#solders.instruction.CompiledInstruction.from_bytes" title="Permalink to this definition"></a></dt>
<dd><p>Deserialize a serialized <code class="docutils literal notranslate"><span class="pre">CompiledInstruction</span></code> object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>bytes</em>) – the serialized <code class="docutils literal notranslate"><span class="pre">CompiledInstruction</span></code>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The deserialized <code class="docutils literal notranslate"><span class="pre">CompiledInstruction</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#solders.instruction.CompiledInstruction" title="solders.instruction.CompiledInstruction">CompiledInstruction</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="solders.instruction.CompiledInstruction.from_json">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">raw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#solders.instruction.CompiledInstruction.from_json" title="Permalink to this definition"></a></dt>
<dd><p>Build from a JSON string.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="solders.instruction.CompiledInstruction.program_id">
<span class="sig-name descname"><span class="pre">program_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">program_ids</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#solders.instruction.CompiledInstruction.program_id" title="Permalink to this definition"></a></dt>
<dd><p>Return the pubkey of the program that executes this instruction.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The program ID.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="pubkey.html#solders.pubkey.Pubkey" title="solders.pubkey.Pubkey">Pubkey</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="solders.instruction.CompiledInstruction.program_id_index">
<span class="sig-name descname"><span class="pre">program_id_index</span></span><a class="headerlink" href="#solders.instruction.CompiledInstruction.program_id_index" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="solders.instruction.CompiledInstruction.to_json">
<span class="sig-name descname"><span class="pre">to_json</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#solders.instruction.CompiledInstruction.to_json" title="Permalink to this definition"></a></dt>
<dd><p>Convert to a JSON string.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="solders.instruction.Instruction">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Instruction</span></span><a class="headerlink" href="#solders.instruction.Instruction" title="Permalink to this definition"></a></dt>
<dd><p>A directive for a single invocation of a Solana program.</p>
<p>An instruction specifies which program it is calling, which accounts it may
read or modify, and additional data that serves as input to the program. One
or more instructions are included in transactions submitted by Solana
clients. Instructions are also used to describe <a class="reference external" href="https://docs.solana.com/developing/programming-model/calling-between-programs/">cross-program
invocations</a>.</p>
<p>During execution, a program will receive a list of account data as one of
its arguments, in the same order as specified during <code class="docutils literal notranslate"><span class="pre">Instruction</span></code>
construction.</p>
<p>While Solana is agnostic to the format of the instruction data, it has
built-in support for serialization via
<a class="reference external" href="https://docs.rs/borsh/latest/borsh/">borsh</a>
and <a class="reference external" href="https://docs.rs/bincode/latest/bincode/">bincode</a>.</p>
<p>When constructing an <code class="docutils literal notranslate"><span class="pre">Instruction</span></code>, a list of all accounts that may be
read or written during the execution of that instruction must be supplied as
<a class="reference internal" href="#solders.instruction.AccountMeta" title="solders.instruction.AccountMeta"><code class="xref py py-class docutils literal notranslate"><span class="pre">AccountMeta</span></code></a> values.</p>
<p><strong>Specifying Account Metadata</strong></p>
<p>Any account whose data may be mutated by the program during execution must
be specified as writable. During execution, writing to an account that was
not specified as writable will cause the transaction to fail. Writing to an
account that is not owned by the program will cause the transaction to fail.</p>
<p>Any account whose lamport balance may be mutated by the program during
execution must be specified as writable. During execution, mutating the
lamports of an account that was not specified as writable will cause the
transaction to fail. While <em>subtracting</em> lamports from an account not owned
by the program will cause the transaction to fail, <em>adding</em> lamports to any
account is allowed, as long is it is mutable.</p>
<p>Accounts that are not read or written by the program may still be specified
in an <code class="docutils literal notranslate"><span class="pre">Instruction</span></code>’s account list. These will affect scheduling of program
execution by the runtime, but will otherwise be ignored.</p>
<p>When building a transaction, the Solana runtime coalesces all accounts used
by all instructions in that transaction, along with accounts and permissions
required by the runtime, into a single account list. Some accounts and
account permissions required by the runtime to process a transaction are
<em>not</em> required to be included in an <code class="docutils literal notranslate"><span class="pre">Instruction</span></code>’s account list. These
include:</p>
<ul class="simple">
<li><p>The program ID: it is a separate field of <code class="docutils literal notranslate"><span class="pre">Instruction</span></code></p></li>
<li><p>The transaction’s fee-paying account: it is added during <a class="reference internal" href="message.html#solders.message.Message" title="solders.message.Message"><code class="xref py py-class docutils literal notranslate"><span class="pre">Message</span></code></a>
construction. A program may still require the fee payer as part of the
account list if it directly references it.</p></li>
</ul>
<p>Programs may require signatures from some accounts, in which case they
should be specified as signers during <code class="docutils literal notranslate"><span class="pre">Instruction</span></code> construction. The
program must still validate during execution that the account is a signer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>program_id</strong> (<a class="reference internal" href="pubkey.html#solders.pubkey.Pubkey" title="solders.pubkey.Pubkey"><em>Pubkey</em></a>) – Pubkey of the program that executes this instruction.</p></li>
<li><p><strong>data</strong> (<em>bytes</em>) – Opaque data passed to the program for its own interpretation.</p></li>
<li><p><strong>accounts</strong> (<em>list</em><em>[</em><a class="reference internal" href="#solders.instruction.AccountMeta" title="solders.instruction.AccountMeta"><em>AccountMeta</em></a><em>]</em>) – Metadata describing accounts that should be passed to the program.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="solders.instruction.Instruction.accounts">
<span class="sig-name descname"><span class="pre">accounts</span></span><a class="headerlink" href="#solders.instruction.Instruction.accounts" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="solders.instruction.Instruction.data">
<span class="sig-name descname"><span class="pre">data</span></span><a class="headerlink" href="#solders.instruction.Instruction.data" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="solders.instruction.Instruction.from_bytes">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_bytes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#solders.instruction.Instruction.from_bytes" title="Permalink to this definition"></a></dt>
<dd><p>Deserialize a serialized <code class="docutils literal notranslate"><span class="pre">Instruction</span></code> object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>bytes</em>) – the serialized <code class="docutils literal notranslate"><span class="pre">Instruction</span></code>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the deserialized <code class="docutils literal notranslate"><span class="pre">Instruction</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#solders.instruction.Instruction" title="solders.instruction.Instruction">Instruction</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">solders.pubkey</span><span class="w"> </span><span class="kn">import</span> <span class="n">Pubkey</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">solders.instruction</span><span class="w"> </span><span class="kn">import</span> <span class="n">AccountMeta</span><span class="p">,</span> <span class="n">Instruction</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">from_pubkey</span> <span class="o">=</span> <span class="n">Pubkey</span><span class="o">.</span><span class="n">new_unique</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">to_pubkey</span> <span class="o">=</span> <span class="n">Pubkey</span><span class="o">.</span><span class="n">new_unique</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">program_id</span> <span class="o">=</span> <span class="n">Pubkey</span><span class="o">.</span><span class="n">new_unique</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">instruction_data</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">([</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">accounts</span> <span class="o">=</span> <span class="p">[</span><span class="n">AccountMeta</span><span class="p">(</span><span class="n">from_pubkey</span><span class="p">,</span> <span class="n">is_signer</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">is_writable</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">AccountMeta</span><span class="p">(</span><span class="n">to_pubkey</span><span class="p">,</span> <span class="n">is_signer</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">is_writable</span><span class="o">=</span><span class="kc">True</span><span class="p">),]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">instruction</span> <span class="o">=</span> <span class="n">Instruction</span><span class="p">(</span><span class="n">program_id</span><span class="p">,</span> <span class="n">instruction_data</span><span class="p">,</span> <span class="n">accounts</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">serialized</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">instruction</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">Instruction</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span><span class="n">serialized</span><span class="p">)</span> <span class="o">==</span> <span class="n">instruction</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="solders.instruction.Instruction.from_json">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">raw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#solders.instruction.Instruction.from_json" title="Permalink to this definition"></a></dt>
<dd><p>Build from a JSON string.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="solders.instruction.Instruction.program_id">
<span class="sig-name descname"><span class="pre">program_id</span></span><a class="headerlink" href="#solders.instruction.Instruction.program_id" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="solders.instruction.Instruction.to_json">
<span class="sig-name descname"><span class="pre">to_json</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#solders.instruction.Instruction.to_json" title="Permalink to this definition"></a></dt>
<dd><p>Convert to a JSON string.</p>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="hash.html" class="btn btn-neutral float-left" title="Hash" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="litesvm.html" class="btn btn-neutral float-right" title="LiteSVM" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Kevin Heavey.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>